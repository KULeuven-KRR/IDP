#include <mx>

procedure main() {
	stdoptions.cpsupport = true
	stdoptions.nbmodels = 0
	stdoptions.timeout = 5
	stdoptions.groundwithbounds = false
	stdoptions.symmetry = 0
	
	solutions = mx::all(T,S)
	
	io.stderr:write("Found "..#solutions.." models, expected "..getExpectedNbOfModels().." models.\n")
	if #solutions ~= getExpectedNbOfModels() then
		return 0
	end 
	
	for i= 1,#solutions do
		if not isconsistent(solutions[i]) then
			io.stderr:write("ModelExpand found an inconsistent model\n")
			return 0
		end
	end
	
	return 1
}