#include <mx>

procedure main() {
	stdoptions.nbmodels = 1
	stdoptions.timeout = 5
	stdoptions.groundwithbounds = false
	stdoptions.groundverbosity = 0
	stdoptions.satverbosity = 0
	stdoptions.symmetry = 1

	solution = mx::one(T,S)
	
	if solution == nil then
		io.stderr:write("Found UNSAT, expected ")
	else
		io.stderr:write("Found SAT, expected ")
	end
	
	if getExpectedNbOfModels() < 1 then
		io.stderr:write("UNSAT\n")
	else
		io.stderr:write("SAT\n")
	end
	
	if (solution ~= nil) and not isconsistent(solution) then
		io.stderr:write("ModelExpand found an inconsistent model\n")
		return 0
	end
	
	if((getExpectedNbOfModels() < 1) == (solution == nil)) then
		return 1
	else
		return 0
	end
}